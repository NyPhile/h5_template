# é¡¹ç›®æ ‡é¢˜

## ğŸ“‹ ç¯å¢ƒè¦æ±‚&æŠ€æœ¯æ ˆ

*   **Node.js**: >= 14.x (æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬)
*   **npm**: >= 6.x
*   **Webpack**: >= 5.x
*   **Babel**: >= 7.x

> å‡ºäºå¯¹ CJS åŒ…çš„å…¼å®¹æ€§è€ƒè™‘ï¼Œé¡¹ç›®ä¸­éƒ¨åˆ†ä¾èµ–æš‚æœªæ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¼€å‘ç¯å¢ƒ

å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒçƒ­æ›´æ–° (HMR)ã€‚

```bash
npm run dev
```
*   é»˜è®¤ç«¯å£è‡ªåŠ¨åˆ†é…ï¼Œé€šå¸¸ä¸º `http://localhost:8080`
*   é…ç½®æ–‡ä»¶ï¼š`webpack.dev.config.js`

### 3. ç”Ÿäº§æ„å»º

æ„å»ºç”Ÿäº§ç¯å¢ƒä»£ç ï¼Œè¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

```bash
npm run build
```
*   è‡ªåŠ¨å‹ç¼© HTMLã€CSSã€JS
*   æ–‡ä»¶ååŒ…å« ContentHash ä»¥æ”¯æŒç¼“å­˜ç­–ç•¥
*   é…ç½®æ–‡ä»¶ï¼š`webpack.prod.config.js`

### 4. éƒ¨ç½²ä¸Šçº¿

```bash
npm run test      # æµ‹è¯•ä¸Šä¼ ï¼Œå°†é¡¹ç›®ä¸Šä¼ åˆ° https://wp.m.163.com/163/test/{channel}/{name}/index.html
npm run publish   # æ­£å¼å‘å¸ƒï¼Œå°†é¡¹ç›®ä¸Šä¼ åˆ° https://wp.m.163.com/163/page/{channel}/{name}/index.html
```

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ (Scripts)

| å‘½ä»¤ | è¯´æ˜ | è¯¦ç»†æè¿° |
| :--- | :--- | :--- |
| **`npm run dev`** | **æœ¬åœ°å¼€å‘** | å¯åŠ¨ `webpack-dev-server`ï¼Œå¼€å¯å¼€å‘æ¨¡å¼ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆå’Œè°ƒè¯•ã€‚ |
| **`npm run build`** | **ç”Ÿäº§æ‰“åŒ…** | æ‰§è¡Œç”Ÿäº§ç¯å¢ƒæ„å»ºï¼Œç”Ÿæˆä¼˜åŒ–åçš„é™æ€èµ„æºæ–‡ä»¶åˆ° `dist` ç›®å½•ã€‚ |
| **`npm run lint`** | **ä»£ç æ£€æŸ¥** | ä½¿ç”¨ ESLint æ£€æŸ¥ `src` ç›®å½•ä¸‹çš„ JS æ–‡ä»¶ï¼Œå¹¶å°è¯•è‡ªåŠ¨ä¿®å¤ (`--fix`) ç®€å•é”™è¯¯ã€‚ |
| **`npm run test`** | **æµ‹è¯•ä¸Šä¼ ** | è¿è¡Œ `scripts/upload.js`ï¼Œé€šå¸¸ç”¨äºå°†æ„å»ºäº§ç‰©ä¸Šä¼ åˆ°æµ‹è¯•ç¯å¢ƒæœåŠ¡å™¨ã€‚ |
| **`npm run publish`** | **æ­£å¼å‘å¸ƒ** | è¿è¡Œ `scripts/upload.js publish`ï¼Œå°†æ„å»ºäº§ç‰©ä¸Šä¼ å¹¶å‘å¸ƒåˆ°æ­£å¼ç¯å¢ƒã€‚ |

## âš™ï¸ é¡¹ç›®é…ç½®

é¡¹ç›®åŸºç¡€é…ç½®ä½äº `package.json` ä¸­ï¼š

*   **channel**: `product` (å‘å¸ƒé¢‘é“)
*   **projectId**: `NTM-LEST41Y4-48` (é¡¹ç›® ID)

## ğŸ“ ç›®å½•ç»“æ„

```
â”œâ”€â”€ dist/                   # æ„å»ºäº§ç‰©ç›®å½•
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.html          # HTML æ¨¡æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ static/                 # é™æ€èµ„æºç›®å½• (ç›´æ¥å¤åˆ¶åˆ° dist)
â”œâ”€â”€ scripts/                # å·¥å…·è„šæœ¬ (å¦‚ä¸Šä¼ è„šæœ¬)
â”œâ”€â”€ webpack.base.config.js  # Webpack åŸºç¡€é…ç½®
â”œâ”€â”€ webpack.dev.config.js   # Webpack å¼€å‘é…ç½®
â”œâ”€â”€ webpack.prod.config.js  # Webpack ç”Ÿäº§é…ç½®
â””â”€â”€ package.json            # é¡¹ç›®ä¾èµ–ä¸é…ç½®
```

## ğŸ“„ License

ISC